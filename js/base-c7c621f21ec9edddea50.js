!function(e){function t(t){for(var r,o,i=t[0],u=t[1],c=t[2],s=0,f=[];s<i.length;s++)o=i[s],a[o]&&f.push(a[o][0]),a[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(d&&d(t);f.length;)f.shift()();return l.push.apply(l,c||[]),n()}function n(){for(var e,t=0;t<l.length;t++){for(var n=l[t],r=!0,i=1;i<n.length;i++){var u=n[i];0!==a[u]&&(r=!1)}r&&(l.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={0:0},l=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var i=window.webpackJsonp=window.webpackJsonp||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var d=u;l.push([543,1]),n()}({1264:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,l=e}finally{try{!r&&i.return&&i.return()}finally{if(a)throw l}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=c(n(0)),o=c(n(1265)),i=c(n(1)),u=n(81);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),a(t,[{key:"componentDidMount",value:function(){var e=o.default.generate({data:{columns:Object.entries(this.props.finance.sector),type:"pie"}});this.pieChartContainer.appendChild(e.element)}},{key:"render",value:function(){var e=this,t=this.props,n=t.photo,a=t.name,o=t.office,i=t.bills,c=t.allBills;return l.default.createElement(u.Grid,null,l.default.createElement(u.Grid.Row,null,l.default.createElement(u.Grid.Column,{width:3},l.default.createElement(u.Segment,{basic:!0},l.default.createElement(u.Card,null,l.default.createElement(u.Image,{src:n}),l.default.createElement(u.Card.Content,null,l.default.createElement(u.Card.Header,null,a),l.default.createElement(u.Card.Description,null,o))))),l.default.createElement(u.Grid.Column,{width:8},l.default.createElement(u.Segment,{basic:!0},l.default.createElement("div",{ref:function(t){return e.pieChartContainer=t}}))),l.default.createElement(u.Grid.Column,{width:4},l.default.createElement(u.Segment,{basic:!0},l.default.createElement(u.Table,null,l.default.createElement(u.Table.Header,null,l.default.createElement(u.Table.Row,null,l.default.createElement(u.Table.HeaderCell,null,"Bill Number"),l.default.createElement(u.Table.HeaderCell,null,"Title"),l.default.createElement(u.Table.HeaderCell,null,"Vote"))),l.default.createElement(u.Table.Body,null,Object.entries(i).map(function(e){var t=r(e,2),n=t[0],a=t[1];return l.default.createElement(u.Table.Row,{key:n},l.default.createElement(u.Table.Cell,null,n),l.default.createElement(u.Table.Cell,null,c[n]),l.default.createElement(u.Table.Cell,null,a))})))))))}}]),t}();d.propTypes={firstName:i.default.string.isRequired,lastName:i.default.string.isRequired,photo:i.default.string.isRequired,office:i.default.string.isRequired,bills:i.default.shape({}).isRequired,allBills:i.default.shape({}).isRequired},t.default=d},1266:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INITIAL_STATE=t.reducers=void 0;var r=n(178),a=n(1267),l=(0,r.fromJS)({page:a.PAGE_STATE}),o={page:a.page};t.reducers=o,t.INITIAL_STATE=l},1267:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PAGE_STATE=t.page=void 0;var r=n(1268);t.page=function(e,t){switch(t.type){case r.ACTIONS.SET_LOADING_STATUS:return e.set("isLoading",t.loadingStatus);default:return e}},t.PAGE_STATE={isLoading:!1}},1268:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.ACTIONS={SET_LOADING_STATUS:"SET_LOADING_STATUS"};t.setLoadingStatus=function(e){return{type:r.SET_LOADING_STATUS,loadingStatus:e}}},1269:function(e,t,n){},1272:function(e,t,n){},278:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={DEBUG:!0,GA_TOKEN:""}},543:function(e,t,n){"use strict";var r=u(n(0)),a=u(n(171)),l=u(n(552));n(555);var o=u(n(278)),i=u(n(557));function u(e){return e&&e.__esModule?e:{default:e}}n(1269),n(1272),a.default.render(r.default.createElement(i.default,null),document.getElementById("App")),o.default.DEBUG||o.default.GA_TOKEN&&l.default.initialize(o.default.GA_TOKEN)},557:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(0)),a=n(558),l=n(56),o=n(172),i=n(282),u=n(595),c=f(n(278)),d=f(n(600)),s=n(1266);function f(e){return e&&e.__esModule?e:{default:e}}var p=c.default.DEBUG&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.compose,m=(0,l.createHashHistory)(),y=(0,i.createStore)((0,a.connectRouter)(m)((0,u.combineReducers)(s.reducers)),s.INITIAL_STATE,p((0,i.applyMiddleware)((0,a.routerMiddleware)(m))));t.default=function(){return r.default.createElement(o.Provider,{store:y},r.default.createElement(a.ConnectedRouter,{history:m},r.default.createElement(d.default,null)))}},600:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(0)),a=d(n(1)),l=n(172),o=n(601),i=n(81),u=d(n(923)),c=d(n(925));function d(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.isPageLoading;return r.default.createElement(i.Segment,{id:"Layout",basic:!0,disabled:t,loading:t},r.default.createElement(i.Grid,{id:"LayoutGrid"},r.default.createElement(i.GridRow,{id:"HeaderRow"},r.default.createElement(i.GridColumn,null,r.default.createElement(u.default,null))),r.default.createElement(i.GridRow,{id:"ContentRow"},r.default.createElement(i.Segment,{basic:!0,style:{width:"100%"}},r.default.createElement(c.default,null)))))};s.contextTypes={store:a.default.object.isRequired},s.propTypes={isPageLoading:a.default.bool.isRequired};t.default=(0,o.withRouter)((0,l.connect)(function(e){return{isPageLoading:e.getIn(["page","isLoading"])}})(s))},923:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(0)),a=n(81),l=o(n(924));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return r.default.createElement(a.Menu,{id:"Header",borderless:!0,inverted:!0,color:"green"},r.default.createElement(a.Menu.Item,null,r.default.createElement(a.Header,null,r.default.createElement(a.Image,{src:l.default}),"Oregon 2020")))}},924:function(e,t,n){e.exports=n.p+"files/logo_or.png"},925:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),a=n(81),l=i(n(926)),o=i(n(927));function i(e){return e&&e.__esModule?e:{default:e}}var u=[{menuItem:"US House",render:function(){return r.default.createElement(a.Tab.Pane,null,r.default.createElement(o.default,{data:l.default}))}}];t.default=function(){return r.default.createElement(a.Tab,{panes:u})}},926:function(e){e.exports={bills:{"HR 5515":"National Defense Authorization Act for Fiscal Year 2019","HR 3053":"Nuclear Waste Policy Amendments Act of 2018","HR 3281":"Reclamation Title Transfer and Non-Federal Infrastructure Incentivization Act","HR 3326":"World Bank Accountability Act of 2017","HR 4607":"Comprehensive Regulatory Review Act","HR 50":"Unfunded Mandates Information and Transparency Act of 2017","HR 620":"ADA Education and Reform Act of 2017","S 140":"An Act to amend the White Mountain Apache Tribe Water Rights Quantification Act of 2010 to clarify the use of amounts in the WMAT Settlement Fund","S 2155":"Economic Growth, Regulatory Relief, and Consumer Protection Act","S J Res 57":'A joint resolution providing for congressional disapproval under chapter 8 of title 5, United States Code, of the rule submitted by Bureau of Consumer Financial Protection relating to "Indirect Auto Lending and Compliance with the Equal Credit Opportunity Act"',"HR 1625":"Consolidated Appropriations Act, 2018","HR 1917":"BRICK Act of 2017","HR 772":"Common Sense Nutrition Disclosure Act of 2017","H Con Res 119":"Expressing the sense of Congress that a carbon tax would be detrimental to the United States economy.","H J Res 2":"Proposing a Balanced Budget Amendment to the Constitution of the United States","H J Res 123":"Further Continuing Appropriations Act, 2018 - National Key Vote","H Res 856":"Raising a Question of the Privileges of the House","HR 1":"Tax Cuts and Jobs Act","HR 1119":"SENSE Act","HR 1638":"Iranian Leadership Asset Transparency Act - National Key Vote","HR 1865":"Allow States and Victims to Fight Online Sex Trafficking Act of 2017","HR 1892":"Bipartisan Budget Act of 2018","HR 195":"Extension of Continuing Appropriations Act, 2018","HR 2":"Agriculture and Nutrition Act of 2018","HR 200":"Strengthening Fishing Communities and Increasing Flexibility in Fisheries Management Act","HR 2083":"Endangered Salmon and Fisheries Predation Prevention Act","HR 2152":"Citizens' Right to Know Act of 2018","HR 2851":"SITSA Act","HR 3":"Spending Cuts to Expired and Unnecessary Programs Act","HR 3144":"To provide for operations of the Federal Columbia River Power System pursuant to a certain operation plan for a specified period of time, and for other purposes.","HR 4293":"Stress Test Improvement Act of 2017","HR 4324":"Strengthening Oversight of Iran's Access to Finance Act","HR 4667":"Making further supplemental appropriations for the fiscal year ending September 30, 2018, for disaster assistance for Hurricanes Harvey, Irma, and Maria, and calendar year 2017 wildfires, and for other purposes","HR 4712":"Born-Alive Abortion Survivors Protection Act","HR 4760":"Securing America's Future Act of 2018","HR 4790":"Volcker Rule Regulatory Harmonization Act","HR 4909":"STOP School Violence Act of 2018","HR 5247":"Trickett Wendler, Frank Mongiello, Jordan McLinn, and Matthew Bellina Right to Try Act of 2018","HR 5645":"Standard Merger and Acquisition Reviews Through Equal Rules Act of 2018","HR 5682":"FIRST STEP Act","HR 5698":"Protect and Serve Act of 2018","HR 5735":"THRIVE Act","HR 5797":"IMD CARE Act","HR 6136":"Border Security and Immigration Reform Act of 2018","HR 6147":"Interior, Environment, Financial Services, and General Government Appropriations Act, 2019","HR 6199":"Restoring Access to Medication and Modernizing Health Savings Accounts Act of 2018","HR 6311":"Increasing Access to Lower Premium Plans and Expanding Health Savings Accounts Act of 2018","S 139":"FISA Amendments Reauthorization Act of 2017","S 204":"Trickett Wendler, Frank Mongiello, Jordan McLinn, and Matthew Bellina Right to Try Act of 2017"},candidates:[{id:10813,photo:"https://static.votesmart.org/canphoto/10813.jpg",firstName:"Kurt",lastName:"Schrader",office:"US House (OR) - District 5, Democratic",finance:{sector:{Health:295750,Agribusiness:232545,"Finance/Insur/RealEst":182e3,"Misc Business":176356,"Energy/Nat Resource":108850,"Ideology/Single-Issue":102477,"Communic/Electronics":90540,Labor:68e3,"Lawyers & Lobbyists":66427,Transportation:50700,Other:38430,Construction:38200,Defense:7500}},bills:{"HR 6199":"Yea","H Con Res 119":"Nay","HR 6147":"Nay","HR 50":"Nay","HR 3281":"Nay","HR 200":"Nay","HR 6136":"Nay","HR 2083":"Yea","HR 2":"Nay","HR 4760":"Nay","HR 5797":"Nay","HR 2851":"Did Not Vote","HR 5735":"Did Not Vote","HR 3":"Nay","HR 5515":"Nay","HR 5682":"Yea","S 204":"Nay","S 2155":"Nay","HR 5698":"Yea","HR 3053":"Nay","HR 2152":"Nay","HR 5645":"Nay","S J Res 57":"Nay","H Res 856":"Nay","HR 3144":"Nay","HR 4790":"Nay","H J Res 2":"Nay","HR 4293":"Nay","HR 1625":"Yea","HR 5247":"Did Not Vote","HR 4909":"Yea","HR 1119":"Nay","HR 1917":"Yea","HR 4607":"Did Not Vote","HR 1865":"Yea","HR 620":"Nay","HR 1892":"Nay","HR 772":"Yea","HR 195":"Nay","HR 4712":"Nay","HR 3326":"Nay","S 139":"Nay","S 140":"Nay","HR 4667":"Yea","HR 1":"Nay","HR 4324":"Nay","HR 1638":"Nay","H J Res 123":"Nay"}}]}},927:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,l=e}finally{try{!r&&i.return&&i.return()}finally{if(a)throw l}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=d(n(0)),i=n(81),u=d(n(928)),c=d(n(1264));function d(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));f.call(n);var r={};return n.billsDropdownOptions=[],Object.entries(e.data.bills).forEach(function(e){var t=a(e,2),l=t[0],o=t[1];r[l]={title:o,vote:null},n.billsDropdownOptions.push({text:o,value:l})}),n.state={bills:r,searchedBills:[],selectedCandidate:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),l(t,[{key:"componentDidMount",value:function(){this.renderSankey()}},{key:"render",value:function(){var e=this,t=this.state.selectedCandidate;return o.default.createElement(o.default.Fragment,null,o.default.createElement(i.Grid,{padded:!0,relaxed:!0,stackable:!0},o.default.createElement(i.Grid.Column,{width:11},o.default.createElement(i.Header,{floated:"left",size:"medium"},"Click on a candidate or donor to filter the results by that selected entity"),o.default.createElement(i.Button,{primary:!0,floated:"right",disabled:!this.state.hasFilter,onClick:function(){return e.renderSankey()}},"Clear filter"),o.default.createElement("div",{ref:function(t){e.sankeyContainer=t},style:{height:"auto",width:800,marginTop:50}})),o.default.createElement(i.Grid.Column,{width:5},o.default.createElement(i.Header,null,"How to filter by bill?"),o.default.createElement(i.List,{ordered:!0},o.default.createElement(i.List.Item,null,"First find the bills you are interested in"),o.default.createElement(i.List.Item,null,"Then adjust the votes to those bills"),o.default.createElement(i.List.Item,null,"Finally click on ",o.default.createElement("b",null,'"Filter"')," button to see candidates who voted according to your selected criteria")),o.default.createElement(i.Form,null,o.default.createElement(i.Form.Group,{inline:!0},o.default.createElement(i.Form.Field,null,o.default.createElement("label",null,o.default.createElement("b",null,"Find Bills:")," "),o.default.createElement(i.Dropdown,{multiple:!0,search:!0,selection:!0,options:this.billsDropdownOptions,onChange:function(t,n){var r=n.value;return e.setState({searchedBills:r})}})),o.default.createElement(i.Form.Field,null,o.default.createElement(i.Button,{primary:!0,onClick:this.filterByBills},"Filter")))),o.default.createElement(i.Table,null,o.default.createElement(i.Table.Header,null,o.default.createElement(i.Table.Row,null,o.default.createElement(i.Table.HeaderCell,null,"Bill Number"),o.default.createElement(i.Table.HeaderCell,null,"Title"),o.default.createElement(i.Table.HeaderCell,null,"Vote:"))),o.default.createElement(i.Table.Body,null,Object.entries(this.state.bills).filter(function(t){var n=a(t,1)[0];return 0===e.state.searchedBills.length||e.state.searchedBills.indexOf(n)>-1}).map(function(t){var n=a(t,2),r=n[0],l=n[1],u=l.billNumber,c=l.title,d=l.vote;return o.default.createElement(i.Table.Row,{key:r},o.default.createElement(i.Table.Cell,null,u),o.default.createElement(i.Table.Cell,null,c),o.default.createElement(i.Table.Cell,null,o.default.createElement(i.Form,null,o.default.createElement(i.Form.Group,{inline:!0},o.default.createElement(i.Form.Field,null,o.default.createElement(i.Checkbox,{radio:!0,label:"Yea",checked:"Yea"===d,onChange:function(){return e.handleBillVoteChange(r,"Yea")}})),o.default.createElement(i.Form.Field,null,o.default.createElement(i.Checkbox,{radio:!0,label:"Nay",checked:"Nay"===d,onChange:function(){return e.handleBillVoteChange(r,"Nay")}})),d?o.default.createElement(i.Form.Field,null,o.default.createElement(i.Button,{icon:"remove",color:"red",circular:!0,size:"mini",onClick:function(){return e.handleBillVoteChange(r,null)}})):o.default.createElement("div",{style:{width:20}})))))}))))),o.default.createElement(i.Modal,{size:"fullscreen",open:!!t,onClose:function(){return e.setState({selectedCandidate:null})}},t?o.default.createElement(o.default.Fragment,null,o.default.createElement(i.Modal.Header,null,t.firstName+" "+t.lastName),o.default.createElement(i.Modal.Content,null,o.default.createElement(c.default,r({},t,{allBills:this.props.data.bills})))):null))}}]),t}(),f=function(){var e=this;this.getData=function(t){for(var n={nodes:[],links:[]},r=void 0,l=e.props.data.candidates,o=(r=t&&"candidate"===t.type?[l.find(function(e){return e.id===t.id})]:l).length;o--;){var i=r[o],u=i.id,c=i.firstName,d=i.lastName,s=i.photo,f=i.bills,p=i.finance;t&&"bills"===t.type&&!Object.entries(f).filter(function(e){var n=a(e,2),r=n[0],l=n[1];return t.bills[r]&&l===t.bills[r]}).length||function(){n.nodes.push({id:u,name:c+" "+d,type:"candidate",photo:s});var e=n.nodes.length-1;Object.entries(p.sector).forEach(function(r){var l=a(r,2),o=l[0],i=l[1];if(!t||"sector"!==t.type||"sector"===t.type&&t.id===o){var u=n.nodes.findIndex(function(e){return e.name===o});-1===u&&(n.nodes.push({name:o,type:"sector",id:o}),u=n.nodes.length-1),n.links.push({source:e,target:u,value:i})}})}()}return n},this.renderSankey=function(t){e.setState({hasFilter:!!t});var n=e.getData(t);(0,u.default)({container:e.sankeyContainer,data:n,size:{width:800,height:1e3},getPopupContent:function(e){return"<br/>"+e.name},onNodeClick:function(t){return e.setState({selectedCandidate:e.props.data.candidates.find(function(e){return e.id===t.id})})}})},this.handleBillVoteChange=function(t,n){e.setState(function(e){return e.bills[t].vote=n,e})},this.filterByBills=function(){var t={};Object.entries(e.state.bills).forEach(function(e){var n=a(e,2),r=n[0],l=n[1].vote;l&&(t[r]=l)}),Object.keys(t).length?e.renderSankey({type:"bills",bills:t}):e.state.hasFilter&&e.renderSankey()}};t.default=s},928:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(456),a=n(1260);t.default=function(e){var t=e.container,n=e.data,l=e.size,o=l.width,i=l.height,u=e.nodeWidth,c=void 0===u?50:u,d=e.nodePadding,s=void 0===d?40:d,f=e.getPopupContent,p=void 0===f?function(){}:f,m=e.onNodeClick;(0,r.select)(t).select("svg").remove();var y=(0,r.select)(t).append("svg").attr("width",o).attr("height",i).style("width","100%").style("height","auto"),h=(0,a.sankey)().nodeWidth(c).nodePadding(s).extent([[1,1],[o-1,i-25]])({nodes:n.nodes.map(function(e){return Object.assign({},e)}),links:n.links.map(function(e){return Object.assign({},e)})}),b=h.nodes,g=h.links,v=(0,r.scaleOrdinal)(r.schemeCategory10),E=function(e){return v(e.replace(/ .*/,""))},R=(0,r.select)("#d3Tooltip");y.append("g").attr("stroke","#000").selectAll("rect").data(b.filter(function(e){return!e.photo})).enter().append("circle").attr("cx",function(e){return e.x0<o/2?e.x1-21:e.x0+21}).attr("cy",function(e){return(e.y0+e.y1)/2}).attr("r",20).attr("fill",function(e){return E(e.name)}).on("click",m).style("cursor","pointer"),y.append("g").attr("stroke","#000").selectAll("rect").data(b.filter(function(e){return e.photo})).enter().append("image").attr("xlink:href",function(e){return e.photo}).attr("x",function(e){return e.x0<o/2?e.x1-41:e.x0+41}).attr("y",function(e){return(e.y0+e.y1)/2-20}).attr("width",40).attr("height",40).on("click",m).style("cursor","pointer").on("mouseover",function(e){R.transition().duration(200).style("opacity",.9),R.html(p(e)).style("left",r.event.pageX+"px").style("top",r.event.pageY-28+"px")}).on("mouseout",function(){R.transition().duration(500).style("opacity",0)});var H=y.append("g").attr("fill","none").attr("stroke-opacity",.5).selectAll("g").data(g).enter().append("g").style("mix-blend-mode","multiply"),A=H.append("linearGradient").attr("id",function(e){return e.uid=function(){var e=function(e){var t=(Math.random().toString(16)+"000000000").substr(2,8);return e?"-"+t.substr(0,4)+"-"+t.substr(4,4):t};return e()+e(!0)+e(!0)+e()}(),e.uid}).attr("gradientUnits","userSpaceOnUse").attr("x1",function(e){return e.source.x1}).attr("x2",function(e){return e.target.x0});return A.append("stop").attr("offset","0%").attr("stop-color",function(e){return E(e.source.name)}),A.append("stop").attr("offset","100%").attr("stop-color",function(e){return E(e.target.name)}),H.append("path").attr("d",(0,a.sankeyLinkHorizontal)()).attr("stroke",function(e){return"url(#"+e.uid+")"}).attr("stroke-width",function(e){return Math.max(1,e.width)}),y.append("g").style("font","10px sans-serif").selectAll("text").data(b).enter().append("text").attr("x",function(e){return e.x0<o/2?e.x1+6:e.x0-6}).attr("y",function(e){return(e.y1+e.y0)/2}).attr("dy","0.35em").attr("text-anchor",function(e){return e.x0<o/2?"start":"end"}).text(function(e){return e.name+" ("+function(e){return"$"+(0,r.format)(",.0f")(e)}(e.value)+")"}),y.node()}}});
//# sourceMappingURL=base-c7c621f21ec9edddea50.js.map